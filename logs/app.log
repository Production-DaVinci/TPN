2024-12-05 00:59:30,891 - ERROR - 製剤データファイルが見つかりません: data/solutions.json
2024-12-05 01:02:32,059 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:35,016 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:35,020 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:02:35,022 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:02:37,895 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:41,509 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:41,519 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:02:41,522 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:02:43,808 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:51,169 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:02:51,174 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:02:51,177 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:02:56,107 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:03:51,878 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:03:51,882 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:03:51,884 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:05:18,645 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:05:22,267 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 01:05:22,272 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:05:22,272 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:05:22,272 - INFO - 計算開始
2024-12-05 01:05:22,272 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 01:05:22,273 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 01:05:22,273 - DEBUG - 必要GIR: 13.406400000000001 g/day
2024-12-05 01:05:22,273 - DEBUG - 必要アミノ酸: 3.99 g/day
2024-12-05 01:05:22,273 - DEBUG - 必要Na: 3.325 mEq/day
2024-12-05 01:05:22,273 - DEBUG - 必要K: 1.995 mEq/day
2024-12-05 01:05:22,273 - DEBUG - 必要P: 1.995 mmol/day
2024-12-05 01:05:22,273 - DEBUG - ブドウ糖濃度: 75.0%, 必要ブドウ糖量: 17.875200000000003 mL
2024-12-05 01:05:22,273 - DEBUG - アミノ酸濃度: 0.076 g/mL, 必要アミノ酸量: 52.50000000000001 mL
2024-12-05 01:05:22,273 - DEBUG - ベース製剤からのNa: 0.6256320000000001 mEq/day, 追加で必要なNa: 2.699368 mEq/day
2024-12-05 01:05:22,273 - DEBUG - リン酸NaからのNa濃度: 0.75 mEq/mL, 必要Na量: 3.5991573333333338 mL
2024-12-05 01:05:22,274 - DEBUG - ベース製剤からのK: 0.3575040000000001 mEq/day, 追加で必要なK: 1.637496 mEq/day
2024-12-05 01:05:22,274 - DEBUG - KClからのK濃度: 1.0 mEq/mL, 必要K量: 1.637496 mL
2024-12-05 01:05:22,274 - DEBUG - リン酸NaからのP濃度: 0.5 mmol/mL, 必要P量: 3.99 mL
2024-12-05 01:05:22,274 - DEBUG - 計算された総液量: 79.60185333333334 mL
2024-12-05 01:05:22,274 - DEBUG - 必要水量: 66.69814666666667 mL
2024-12-05 01:05:22,274 - DEBUG - 蒸留水の量: 66.69814666666667 mL
2024-12-05 01:05:22,274 - DEBUG - 配合量の詳細: {'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667}
2024-12-05 01:05:22,274 - INFO - 計算完了
2024-12-05 01:05:22,274 - DEBUG - 計算結果: gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5 detailed_mix={'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667}
2024-12-05 11:04:03,868 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 12:01:39,697 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 12:01:41,973 - DEBUG - 製剤データのロードに成功しました。
2024-12-05 12:01:41,977 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 12:01:41,977 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 12:01:41,977 - INFO - 計算開始
2024-12-05 12:01:41,978 - DEBUG - 患者データ: weight=1.33 twi=110.0 gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5
2024-12-05 12:01:41,979 - DEBUG - 選択された製剤: name='ソルデム3AG' glucose_percentage=75.0 na=35.0 k=20.0 cl=35.0 p=0.0 calories=300.0
2024-12-05 12:01:41,979 - DEBUG - 計算ステップ: 総投与量 (TWI): 110.0 mL/kg/day × 1.33 kg = 146.30 mL/day

必要GIR: 7.0 mg/kg/min × 1.33 kg × 60 min × 24時間 ÷ 1000 = 13.41 g/day
必要アミノ酸量: 3.0 g/kg/day × 1.33 kg = 3.99 g/day
必要Na量: 2.5 mEq/kg/day × 1.33 kg = 3.33 mEq/day
必要K量: 1.5 mEq/kg/day × 1.33 kg = 2.00 mEq/day
必要P量: 1.5 mmol/kg/day × 1.33 kg = 2.00 mmol/day

ブドウ糖濃度: 75.0% (=0.75 g/mL)
必要ブドウ糖量: 13.41 g/day ÷ 0.75 g/mL = 17.88 mL

アミノ酸濃度: 0.076 g/mL
必要アミノ酸量: 3.99 g/day ÷ 0.076 g/mL = 52.50 mL

ベース製剤からのNa量: 35.0 mEq/L × 17.88 mL/day ÷ 1000 = 0.63 mEq/day
追加で必要なNa量: 3.33 mEq/day - 0.63 mEq/day = 2.70 mEq/day

リン酸NaからのNa濃度: 0.75 mEq/mL
必要Na量: 2.70 mEq/day ÷ 0.75 mEq/mL = 3.60 mL

ベース製剤からのK量: 20.0 mEq/L × 17.88 mL/day ÷ 1000 = 0.36 mEq/day
追加で必要なK量: 2.00 mEq/day - 0.36 mEq/day = 1.64 mEq/day

KClからのK濃度: 1.0 mEq/mL
必要K量: 1.64 mEq/day ÷ 1.0 mEq/mL = 1.64 mL

リン酸NaからのP濃度: 0.5 mmol/mL
必要P量: 2.00 mmol/day ÷ 0.5 mmol/mL = 3.99 mL

計算された総液量: 17.88 + 52.50 + 3.60 + 1.64 + 3.99 = 79.60 mL
必要水量: 146.30 mL/day - 79.60 mL/day = 66.70 mL/day
蒸留水の量: max(66.70, 0) = 66.70 mL/day

配合量の詳細: {'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667}

2024-12-05 12:01:41,981 - DEBUG - 配合量の詳細: {'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667}
2024-12-05 12:01:41,981 - INFO - 計算完了
2024-12-05 12:01:41,981 - DEBUG - 計算結果: gir=7.0 amino_acid=3.0 na=2.5 k=1.5 p=1.5 detailed_mix={'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667} calculation_steps="総投与量 (TWI): 110.0 mL/kg/day × 1.33 kg = 146.30 mL/day\n\n必要GIR: 7.0 mg/kg/min × 1.33 kg × 60 min × 24時間 ÷ 1000 = 13.41 g/day\n必要アミノ酸量: 3.0 g/kg/day × 1.33 kg = 3.99 g/day\n必要Na量: 2.5 mEq/kg/day × 1.33 kg = 3.33 mEq/day\n必要K量: 1.5 mEq/kg/day × 1.33 kg = 2.00 mEq/day\n必要P量: 1.5 mmol/kg/day × 1.33 kg = 2.00 mmol/day\n\nブドウ糖濃度: 75.0% (=0.75 g/mL)\n必要ブドウ糖量: 13.41 g/day ÷ 0.75 g/mL = 17.88 mL\n\nアミノ酸濃度: 0.076 g/mL\n必要アミノ酸量: 3.99 g/day ÷ 0.076 g/mL = 52.50 mL\n\nベース製剤からのNa量: 35.0 mEq/L × 17.88 mL/day ÷ 1000 = 0.63 mEq/day\n追加で必要なNa量: 3.33 mEq/day - 0.63 mEq/day = 2.70 mEq/day\n\nリン酸NaからのNa濃度: 0.75 mEq/mL\n必要Na量: 2.70 mEq/day ÷ 0.75 mEq/mL = 3.60 mL\n\nベース製剤からのK量: 20.0 mEq/L × 17.88 mL/day ÷ 1000 = 0.36 mEq/day\n追加で必要なK量: 2.00 mEq/day - 0.36 mEq/day = 1.64 mEq/day\n\nKClからのK濃度: 1.0 mEq/mL\n必要K量: 1.64 mEq/day ÷ 1.0 mEq/mL = 1.64 mL\n\nリン酸NaからのP濃度: 0.5 mmol/mL\n必要P量: 2.00 mmol/day ÷ 0.5 mmol/mL = 3.99 mL\n\n計算された総液量: 17.88 + 52.50 + 3.60 + 1.64 + 3.99 = 79.60 mL\n必要水量: 146.30 mL/day - 79.60 mL/day = 66.70 mL/day\n蒸留水の量: max(66.70, 0) = 66.70 mL/day\n\n配合量の詳細: {'ソルデム3AG': 17.875200000000003, 'プレアミンP': 52.50000000000001, 'リン酸Na': 3.99, 'KCl': 1.637496, '蒸留水': 66.69814666666667}\n"
